# 解华容道问题

## 状态空间表示法及搜索策略

华容道问题，如下所示，在一个8x9的棋盘内，曹操要躲过五虎上将的围剿，成功从下方撤离华容道。卒子大小1x1，赵云，马超，黄忠，张飞均为1x2，关羽为2x1.

![同质](https://img-blog.csdn.net/20161002102820064)

---

我们不妨从简单问题出发，考虑一个3x3的华容道问题。

![数字华容道游戏3X3模式怎么过？](https://exp-picture.cdn.bcebos.com/025d87c0affce18685f722c61f1fbee435daeb6c.jpg?x-bce-process=image%2Fresize%2Cm_lfit%2Cw_500%2Climit_1)

在搜索时需要解决的基本问题：

- 搜索过程能否一定能找到一个解
- 找到一个解，是否为最优解
- 时间与空间复杂度如何
- 搜索过程是否终止运行或者陷入一个死循环

**基本定义**

1. 状态（State）：描述问题在任一时刻所处状态的数据结构。
2. 初始状态集S0，和目标状态集G
3. 操作Operator：状态之间的转换函数
4. 状态空间：四元组（S，O，S0，G）

**搜索分类**

`盲目搜索`：在特定问题不具有任何相关信息，包括DFS和BFS。

`启发式搜索`:考虑特定问题领域可应用的知识，动态地确定调用操作算子的步骤。优先选择较合适的操作算子，尽量减少不必要的搜索，以尽快到达目标状态。

> A*启发式搜索

A*核心的思想是 $$f(n)=g(n)+h(n)$$

$$f(n)$$是节点n的综合优先级，$$g(n)$$是节点n距离起点的代价，$$h(n)$$是节点n距离终点的预计代价，也即启发函数,显然$$h(n)$$的好坏直接关乎到算法的好坏，一般而言$$h(n)$$比最优解大，一定是错误的，没有任何意义，$$h(n)$$与最优解相同，是理想状态；如果$$h(n)$$比最优解小，那么相差越大性能越差。一般用`open_set`来表示待遍历的节点，`close_set`表示已经遍历过的节点。

为了避免重复搜索或者陷入死循环，我们需要记录已经经历的状态，以及为了回溯，我们需要另外一个表记录相邻的状态。